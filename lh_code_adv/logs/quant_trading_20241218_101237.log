2024-12-18 10:12:37,940 [INFO] main.py:16 - 初始化量化交易系统...
2024-12-18 10:12:37,940 [INFO] logger.py:55 - [QuantTradingSystem] 开始执行: __init__
2024-12-18 10:12:37,940 [INFO] QuantTrading.py:28 - 初始化量化交易系统...
2024-12-18 10:12:37,940 [INFO] logger.py:55 - [DataEngine] 开始执行: __init__
2024-12-18 10:12:37,942 [INFO] logger.py:62 - [DataEngine] 成功完成: __init__, 耗时: 0.00秒
2024-12-18 10:12:37,943 [INFO] logger.py:62 - [QuantTradingSystem] 成功完成: __init__, 耗时: 0.00秒
2024-12-18 10:12:37,943 [INFO] main.py:21 - 开始模型训练阶段...
2024-12-18 10:12:37,943 [INFO] main.py:24 - Step 1: 正在获取股票列表...
2024-12-18 10:12:37,946 [INFO] logger.py:55 - [DataEngine] 开始执行: get_stock_list
2024-12-18 10:12:42,049 [INFO] logger.py:62 - [DataEngine] 成功完成: get_stock_list, 耗时: 4.10秒
2024-12-18 10:12:42,049 [INFO] main.py:29 - 成功获取股票列表，共 5250 只股票
2024-12-18 10:12:42,049 [INFO] main.py:32 - Step 2: 开始获取历史数据...
2024-12-18 10:12:42,049 [INFO] main.py:39 - 正在获取 000001.SZ 的历史数据...
2024-12-18 10:12:42,975 [INFO] main.py:43 - 成功获取 000001.SZ 的历史数据，共 970 条记录
2024-12-18 10:12:42,975 [INFO] main.py:39 - 正在获取 000002.SZ 的历史数据...
2024-12-18 10:12:43,772 [INFO] main.py:43 - 成功获取 000002.SZ 的历史数据，共 970 条记录
2024-12-18 10:12:43,772 [INFO] main.py:39 - 正在获取 000004.SZ 的历史数据...
2024-12-18 10:12:44,434 [INFO] main.py:43 - 成功获取 000004.SZ 的历史数据，共 968 条记录
2024-12-18 10:12:44,434 [INFO] main.py:39 - 正在获取 000006.SZ 的历史数据...
2024-12-18 10:12:45,123 [INFO] main.py:43 - 成功获取 000006.SZ 的历史数据，共 970 条记录
2024-12-18 10:12:45,123 [INFO] main.py:39 - 正在获取 000007.SZ 的历史数据...
2024-12-18 10:12:45,900 [INFO] main.py:43 - 成功获取 000007.SZ 的历史数据，共 967 条记录
2024-12-18 10:12:45,900 [INFO] main.py:39 - 正在获取 000008.SZ 的历史数据...
2024-12-18 10:12:46,723 [INFO] main.py:43 - 成功获取 000008.SZ 的历史数据，共 970 条记录
2024-12-18 10:12:46,723 [INFO] main.py:39 - 正在获取 000009.SZ 的历史数据...
2024-12-18 10:12:47,438 [INFO] main.py:43 - 成功获取 000009.SZ 的历史数据，共 970 条记录
2024-12-18 10:12:47,438 [INFO] main.py:39 - 正在获取 000010.SZ 的历史数据...
2024-12-18 10:12:48,124 [INFO] main.py:43 - 成功获取 000010.SZ 的历史数据，共 969 条记录
2024-12-18 10:12:48,125 [INFO] main.py:39 - 正在获取 000011.SZ 的历史数据...
2024-12-18 10:12:48,999 [INFO] main.py:43 - 成功获取 000011.SZ 的历史数据，共 970 条记录
2024-12-18 10:12:48,999 [INFO] main.py:52 - 历史数据获取完成，共获取 9 只股票的数据
2024-12-18 10:12:48,999 [INFO] main.py:55 - Step 3: 开始数据处理和特征工程...
2024-12-18 10:12:48,999 [INFO] main.py:59 - 正在处理 000001.SZ 的数据...
2024-12-18 10:12:49,025 [INFO] main.py:82 - 成功处理 000001.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,025 [INFO] main.py:59 - 正在处理 000002.SZ 的数据...
2024-12-18 10:12:49,047 [INFO] main.py:82 - 成功处理 000002.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,047 [INFO] main.py:59 - 正在处理 000004.SZ 的数据...
2024-12-18 10:12:49,069 [INFO] main.py:82 - 成功处理 000004.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,069 [INFO] main.py:59 - 正在处理 000006.SZ 的数据...
2024-12-18 10:12:49,091 [INFO] main.py:82 - 成功处理 000006.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,091 [INFO] main.py:59 - 正在处理 000007.SZ 的数据...
2024-12-18 10:12:49,112 [INFO] main.py:82 - 成功处理 000007.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,113 [INFO] main.py:59 - 正在处理 000008.SZ 的数据...
2024-12-18 10:12:49,134 [INFO] main.py:82 - 成功处理 000008.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,134 [INFO] main.py:59 - 正在处理 000009.SZ 的数据...
2024-12-18 10:12:49,156 [INFO] main.py:82 - 成功处理 000009.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,156 [INFO] main.py:59 - 正在处理 000010.SZ 的数据...
2024-12-18 10:12:49,178 [INFO] main.py:82 - 成功处理 000010.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,178 [INFO] main.py:59 - 正在处理 000011.SZ 的数据...
2024-12-18 10:12:49,199 [INFO] main.py:82 - 成功处理 000011.SZ 的数据，生成 66 个特征（包含标签）
2024-12-18 10:12:49,199 [INFO] main.py:91 - 数据处理完成，共处理 9 只股票的数据
2024-12-18 10:12:49,200 [INFO] main.py:93 - Step 4: 开始特征选择...
2024-12-18 10:13:42,086 [INFO] main.py:103 - 特征选择完成，选择了 14 个特征
2024-12-18 10:13:42,086 [INFO] main.py:109 - Step 5: 开始划分训练集和验证集...
2024-12-18 10:13:42,089 [INFO] main.py:115 - 数据集划分完成，训练集样本数: 6453, 验证集样本数: 1614
2024-12-18 10:13:42,089 [INFO] main.py:121 - Step 6: 开始训练模型...
2024-12-18 10:13:45,930 [INFO] main.py:130 - 模型训练完成
2024-12-18 10:13:45,930 [INFO] main.py:131 - 模型性能指标:
2024-12-18 10:13:45,930 [INFO] main.py:133 - accuracy: 0.9640644361833953
2024-12-18 10:13:45,931 [INFO] main.py:133 - selected_features: ['Vol_Ratio', 'price_change', 'RSV', 'volume_change', 'Price_Momentum', 'log_return', 'K', 'D', 'slowd', 'ma_diff_5', 'rsi_24', 'price_range_ratio', 'obv', 'aroon_up']
2024-12-18 10:13:45,931 [INFO] main.py:133 - validation_predictions: [0 0 0 ... 0 0 0]
2024-12-18 10:13:45,931 [INFO] main.py:133 - optimized_weights: [0.1, 0.5, 0.4]
2024-12-18 10:13:45,965 [INFO] main.py:133 - price_data: {'000001.SZ':        ts_code trade_date   open   high    low  close         vol       amount
0    000001.SZ   20231229   9.42   9.48   9.35   9.39   853852.79   803196.744
1    000001.SZ   20231228   9.11   9.47   9.08   9.45  1661591.84  1550256.591
2    000001.SZ   20231227   9.10   9.13   9.02   9.12   641534.35   582036.661
3    000001.SZ   20231226   9.19   9.20   9.07   9.10   541896.33   493746.623
4    000001.SZ   20231225   9.18   9.20   9.14   9.19   413970.88   379638.234
..         ...        ...    ...    ...    ...    ...         ...          ...
965  000001.SZ   20200108  17.00  17.05  16.63  16.66   847824.12  1423608.811
966  000001.SZ   20200107  17.13  17.28  16.95  17.15   728607.56  1247047.135
967  000001.SZ   20200106  17.01  17.34  16.91  17.07   862083.50  1477930.193
968  000001.SZ   20200103  16.94  17.31  16.92  17.18  1116194.81  1914495.474
969  000001.SZ   20200102  16.65  16.95  16.55  16.87  1530231.87  2571196.482

[970 rows x 8 columns], '000002.SZ':        ts_code trade_date   open   high    low  close         vol       amount
0    000002.SZ   20231229  10.48  10.59  10.39  10.46   614077.78   642736.575
1    000002.SZ   20231228  10.15  10.56  10.10  10.52   789808.28   821641.064
2    000002.SZ   20231227  10.17  10.25  10.09  10.17   343637.64   348965.492
3    000002.SZ   20231226  10.30  10.33  10.14  10.17   351023.46   357361.333
4    000002.SZ   20231225  10.34  10.38  10.28  10.30   273204.74   281790.700
..         ...        ...    ...    ...    ...    ...         ...          ...
965  000002.SZ   20200108  31.30  31.77  31.05  31.68   529996.84  1667143.803
966  000002.SZ   20200107  31.61  31.93  31.35  31.76   577933.43  1827510.871
967  000002.SZ   20200106  31.75  31.76  31.25  31.51   876840.58  2761448.649
968  000002.SZ   20200103  32.71  32.81  31.78  32.05   805536.29  2584309.903
969  000002.SZ   20200102  32.80  33.60  32.51  32.56  1012130.40  3342373.870

[970 rows x 8 columns], '000004.SZ':        ts_code trade_date   open   high    low  close       vol     amount
0    000004.SZ   20231229  15.73  16.23  15.72  16.13  34436.00  55171.035
1    000004.SZ   20231228  15.68  15.89  15.43  15.78  35683.00  56053.685
2    000004.SZ   20231227  15.39  15.77  15.34  15.67  32775.80  51240.217
3    000004.SZ   20231226  15.75  15.80  15.30  15.32  39657.00  61370.037
4    000004.SZ   20231225  16.07  16.09  15.70  15.71  43227.00  68495.552
..         ...        ...    ...    ...    ...    ...       ...        ...
963  000004.SZ   20200108  21.91  22.77  21.78  21.78  15503.78  34574.063
964  000004.SZ   20200107  21.80  22.20  21.67  22.10  17433.20  38299.735
965  000004.SZ   20200106  22.20  22.20  21.55  21.75  20316.99  44304.874
966  000004.SZ   20200103  22.31  22.48  22.03  22.35  13380.09  29779.317
967  000004.SZ   20200102  22.65  22.90  22.17  22.33  17853.20  40144.977

[968 rows x 8 columns], '000006.SZ':        ts_code trade_date  open  high   low  close        vol      amount
0    000006.SZ   20231229  4.53  4.64  4.52   4.59  221838.98  101829.486
1    000006.SZ   20231228  4.55  4.58  4.40   4.55  322643.03  145354.976
2    000006.SZ   20231227  4.46  4.78  4.43   4.55  487392.79  221416.588
3    000006.SZ   20231226  4.42  4.42  4.33   4.36  163062.63   71348.289
4    000006.SZ   20231225  4.45  4.46  4.39   4.43  159918.32   70648.096
..         ...        ...   ...   ...   ...    ...        ...         ...
965  000006.SZ   20200108  5.48  5.48  5.38   5.39  107198.39   58202.404
966  000006.SZ   20200107  5.46  5.53  5.44   5.49   87271.72   47801.845
967  000006.SZ   20200106  5.45  5.50  5.40   5.46  107137.35   58411.416
968  000006.SZ   20200103  5.40  5.54  5.39   5.48  165651.93   90465.551
969  000006.SZ   20200102  5.43  5.45  5.37   5.40  124751.76   67452.865

[970 rows x 8 columns], '000007.SZ':        ts_code trade_date  open  high   low  close       vol     amount
0    000007.SZ   20231229  4.88  4.91  4.85   4.87   7294.00   3560.853
1    000007.SZ   20231228  4.78  4.89  4.75   4.87   9209.50   4439.574
2    000007.SZ   20231227  4.83  4.83  4.72   4.78   5975.50   2844.828
3    000007.SZ   20231226  4.81  4.81  4.75   4.76   6530.00   3114.396
4    000007.SZ   20231225  4.86  4.89  4.74   4.80   8523.00   4081.205
..         ...        ...   ...   ...   ...    ...       ...        ...
962  000007.SZ   20200108  9.53  9.53  9.28   9.40  42074.50  39568.663
963  000007.SZ   20200107  9.43  9.60  9.43   9.51  38129.00  36200.756
964  000007.SZ   20200106  9.46  9.56  9.38   9.48  44604.84  42196.105
965  000007.SZ   20200103  9.56  9.58  9.50   9.51  33558.50  31958.868
966  000007.SZ   20200102  9.56  9.58  9.44   9.55  37446.97  35694.686

[967 rows x 8 columns], '000008.SZ':        ts_code trade_date  open  high   low  close        vol      amount
0    000008.SZ   20231229  2.35  2.38  2.33   2.36  290556.00   68418.476
1    000008.SZ   20231228  2.34  2.37  2.32   2.35  188289.80   44216.001
2    000008.SZ   20231227  2.32  2.35  2.31   2.34  150266.00   35023.816
3    000008.SZ   20231226  2.33  2.35  2.31   2.32  156845.00   36550.373
4    000008.SZ   20231225  2.35  2.36  2.32   2.33  214465.09   50014.435
..         ...        ...   ...   ...   ...    ...        ...         ...
965  000008.SZ   20200108  3.77  3.83  3.71   3.72  375007.93  141309.034
966  000008.SZ   20200107  3.75  3.79  3.73   3.79  317230.07  119491.960
967  000008.SZ   20200106  3.76  3.79  3.71   3.73  349983.44  131147.836
968  000008.SZ   20200103  3.72  3.75  3.70   3.75  310728.28  115673.790
969  000008.SZ   20200102  3.66  3.71  3.64   3.71  377467.90  139208.169

[970 rows x 8 columns], '000009.SZ':        ts_code trade_date   open   high    low  close         vol       amount
0    000009.SZ   20231229  11.78  11.85  11.72  11.74   130685.65   153520.958
1    000009.SZ   20231228  11.61  11.83  11.58  11.77   131003.61   154148.427
2    000009.SZ   20231227  11.59  11.66  11.51  11.63    88552.62   102752.136
3    000009.SZ   20231226  11.60  11.62  11.48  11.53    87298.05   100810.509
4    000009.SZ   20231225  11.60  11.74  11.57  11.61    68937.08    80164.829
..         ...        ...    ...    ...    ...    ...         ...          ...
965  000009.SZ   20200108   7.25   7.48   6.85   7.11  2408849.54  1714402.366
966  000009.SZ   20200107   7.65   7.65   7.03   7.16  2758589.54  2024669.748
967  000009.SZ   20200106   6.65   7.04   6.51   7.04  1270485.55   869712.123
968  000009.SZ   20200103   6.66   6.74   6.38   6.40  1772766.35  1154802.334
969  000009.SZ   20200102   6.28   6.79   6.19   6.66  2406170.23  1559130.143

[970 rows x 8 columns], '000010.SZ':        ts_code trade_date  open  high   low  close        vol     amount
0    000010.SZ   20231229  3.12  3.18  3.10   3.18  119808.00  37723.927
1    000010.SZ   20231228  3.10  3.13  3.04   3.12  139828.00  43312.705
2    000010.SZ   20231227  3.04  3.12  3.03   3.11  185500.00  57106.220
3    000010.SZ   20231226  3.08  3.08  3.02   3.03  114369.00  34785.430
4    000010.SZ   20231225  3.10  3.11  3.05   3.07   87269.00  26747.522
..         ...        ...   ...   ...   ...    ...        ...        ...
964  000010.SZ   20200108  3.51  3.56  3.48   3.51   32010.00  11212.938
965  000010.SZ   20200107  3.43  3.60  3.42   3.54   74943.68  26641.535
966  000010.SZ   20200106  3.40  3.45  3.39   3.43   24223.00   8295.034
967  000010.SZ   20200103  3.41  3.42  3.39   3.41   19815.00   6739.342
968  000010.SZ   20200102  3.40  3.42  3.37   3.41   39037.83  13282.211

[969 rows x 8 columns], '000011.SZ':        ts_code trade_date  open  high   low  close       vol     amount
0    000011.SZ   20231229  8.82  8.87  8.76   8.86  28781.50  25358.901
1    000011.SZ   20231228  8.61  8.83  8.55   8.80  28389.10  24798.645
2    000011.SZ   20231227  8.58  8.71  8.53   8.66  24107.11  20784.316
3    000011.SZ   20231226  8.71  8.78  8.57   8.58  23080.00  19906.375
4    000011.SZ   20231225  8.90  8.90  8.56   8.72  36631.01  31835.680
..         ...        ...   ...   ...   ...    ...       ...        ...
965  000011.SZ   20200108  9.47  9.53  9.26   9.29  36999.01  34674.158
966  000011.SZ   20200107  9.39  9.59  9.38   9.55  38003.71  36145.655
967  000011.SZ   20200106  9.40  9.47  9.34   9.39  34115.13  32069.322
968  000011.SZ   20200103  9.51  9.55  9.41   9.49  30214.02  28593.488
969  000011.SZ   20200102  9.49  9.60  9.42   9.51  35885.36  34098.873

[970 rows x 8 columns]}
2024-12-18 10:13:45,970 [INFO] main.py:139 - Step 7: 开始模型评估...
2024-12-18 10:13:45,970 [INFO] main.py:142 - 使用的股票代码: 000001.SZ
2024-12-18 10:13:45,970 [INFO] main.py:143 - historical_data类型: <class 'dict'>
2024-12-18 10:13:45,970 [INFO] main.py:144 - historical_data[stock_code]的列: ['ts_code', 'trade_date', 'open', 'high', 'low', 'close', 'vol', 'amount']
2024-12-18 10:13:45,973 [INFO] main.py:145 - 数据前几行: 
     ts_code trade_date  open  high   low  close         vol       amount
0  000001.SZ   20231229  9.42  9.48  9.35   9.39   853852.79   803196.744
1  000001.SZ   20231228  9.11  9.47  9.08   9.45  1661591.84  1550256.591
2  000001.SZ   20231227  9.10  9.13  9.02   9.12   641534.35   582036.661
3  000001.SZ   20231226  9.19  9.20  9.07   9.10   541896.33   493746.623
4  000001.SZ   20231225  9.18  9.20  9.14   9.19   413970.88   379638.234
2024-12-18 10:13:46,415 [ERROR] main.py:177 - 模型评估失败: 'close'
2024-12-18 10:13:46,415 [INFO] main.py:192 - 量化交易系统运行结束
